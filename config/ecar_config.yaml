data:
  optc:
    # Data Paths
    train_path: "D:\\data1\\AIA-51-75.ecar-last 19day.json\\AIA-51-75.ecar-last 19day.json"
    test_path: "D:\\data1\\AIA-51-75.ecar-last25day.json\\AIA-51-75.ecar-last25day.json"
    
    # Cache Settings
    cache_dir: "D:\\data1\\ecar_slices\\cache"
    use_cache: true
    
    # Time Filtering (Optional, set to null to read all)
    # Example for 25day slice
    time_range: null
    #   start: "2019-09-25T09:00:00-04:00"
    #   end: "2019-09-25T15:00:00-04:00"
      
    # Windowing
    window_minutes: 15
    max_events_per_window: 20000
    chunk_size: 100 # Optimized for IO
    
    # Host Filter (Optional, list of hostnames)
    host_filter: null 
    #  - "SysClient0052.systemia.com"
    
    # View Mapping (Override default)
    view_mapping:
      network: ["FLOW"]
      file: ["FILE", "REGISTRY"]
      process: ["PROCESS", "THREAD", "MODULE", "SHELL", "TASK", "USER_SESSION"]

training:
  federated_learning: false # [SWITCH] Toggle between Centralized and Federated
  epochs: 5 
  batch_size: 32
  learning_rate: 1.0e-5 # Step 1 LR (LoRA fine-tuning)
  output_dir: "results4"
  seed: 42
  num_workers: 4 # [OPTIMIZED] DataLoader workers (set to 0 for debugging)
  
  # Teacher Pretraining
  teacher:
    epochs: 5
    lr: 1.0e-5
    temp: 0.1
    
  # Federated Client Training
  client:
    local_epochs: 5
    batch_size: 16
    lr: 1.0e-4
    weight_decay: 1.0e-4
    lambda_stats: 50.0
    lambda_infonce: 1.0
    temp_params:
      a: 2.0
      b: 1.0
      min_tau: 0.05
      max_tau: 0.2

model:
  # Quality
  quality_softmax_temp: 0.5
  
  # Step 1
  slot_seconds: 60
  num_hash_buckets: 50
  target_dim: 32
  router_hidden_dims: [64]
  num_subspaces: 4
  gate_gamma: 0.5
  gate_beta: 5.0
  max_vocab_types: 500
  
  # Step 2 & Teacher
  subspace_dim: 16
  behavior_dim: 128
  
  # LoRA
  lora_rank: 4
  
  # Step 3 Detector
  drift_lr: 0.01
  threshold_quantile: 0.90
  
  # DP Settings
  feature_dp:
    enabled: true
    clip_C: 10.0
    noise_sigma: 0.01
    
  grad_dp:
    enabled: false
    base_clip_C0: 1.0
    importance_alpha: 0.0
    noise_sigma0: 0.0
